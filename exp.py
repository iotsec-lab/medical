import requests
import json
def get_location_batch(ips):
    url = "http://ip-api.com/batch"
    ips = list(ips)
    ip_chunks = [ips[i:i+100] for i in range(0, len(ips), 100)]
    results = []

    for chunk in ip_chunks:
        data = json.dumps(chunk)
        response = requests.post(url, data=data)
        results.extend(response.json())

    return results

ip_list = ["52.38.68.215", "54.237.36.4", "52.35.233.78", "52.43.23.55", "108.139.1.65", "10.215.173.1", "142.250.189.174", "104.17.24.14", "52.24.233.7", "52.41.2.133", "52.88.45.149", "44.239.205.148", "18.155.202.116", "52.40.248.41", "104.17.25.14", "192.168.1.122", "142.250.141.155", "52.24.47.88", "35.166.66.50", "18.155.202.87", "100.21.24.104", "54.186.149.152", "35.81.35.4", "52.27.80.35", "44.237.106.165", "44.241.52.227", "108.139.1.54", "18.155.181.127", "18.155.181.5", "52.24.151.192", "23.227.38.74", "34.208.199.191", "18.155.202.17", "108.138.245.81", "10.215.173.2", "35.166.252.7", "35.80.101.90", "104.17.217.31", "54.70.228.44", "35.167.111.42", "44.229.105.13", "34.212.124.230", "52.27.142.250", "34.208.232.22", "108.138.246.43", "216.239.38.178", "44.228.191.171", "52.42.234.228", "54.189.241.112", "142.251.46.168", "52.88.36.62", "108.139.1.119", "35.165.2.215", "34.212.221.7", "54.201.190.7", "52.26.1.148", "54.186.134.84", "52.26.4.67", "54.201.244.114", "142.250.191.46", "52.25.187.110", "52.40.41.84", "35.165.203.112", "108.138.245.63", "108.138.246.61", "52.43.30.200", "44.238.84.100", "35.162.106.56", "18.155.181.58", "35.80.159.121", "108.139.1.67", "34.210.194.45", "54.200.94.135", "52.43.148.200", "52.36.31.207", "50.112.209.226", "172.64.133.15", "142.250.189.196", "44.241.76.33", "44.231.241.95", "35.83.59.104", "52.200.116.28", "44.237.234.132", "44.227.230.96", "44.236.113.33", "54.188.238.180", "52.11.207.67", "18.155.202.102", "35.160.102.94", "172.64.132.15", "54.191.42.141", "54.188.72.200", "54.188.132.94", "52.43.74.124", "151.101.41.208", "54.187.122.82", "54.187.227.208", "54.69.179.77", "35.165.98.222", "52.13.169.193", "52.24.168.143", "54.148.115.137", "104.17.218.31", "23.227.60.200", "54.187.85.94", "44.238.65.52"]
print(get_location_batch(ip_list))
# ip_info = get_ip_info(ip_list)
# print(ip_info)
